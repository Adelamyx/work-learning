<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<input type="text" id="isNum" name="number">
<button id="addleft">左侧入</button>
<button id="addright">右侧入</button>
<button id="removeleft">左侧出</button>
<button id="removeright">右侧出</button>
<button id="reverse">反转</button>
<button id="sort">sort方法</button>
<button id="concat">concat方法</button>
<button id="join">join方法</button>
<button id="toString">toString方法</button>
<button id="toLocaleString">toLocaleString方法</button>
<button id="slice">slice方法</button>
<button id="splice">splice方法</button>
<button id="copyWithin">copyWithin方法</button>
<button id="entries">entries、keys、valueOf方法</button>
<button id="fiveFunction">Array 的五种迭代方法</button>
<button id="find">find、findIndex</button>
<button>lastIndexOf,indexOf方法</button>
<button>reduce,reduceRight方法</button>


<script type="text/javascript">

    var isNums = document.querySelector("#isNum");
    var buttons = document.querySelectorAll("button");

    str = [11, 21, 1, 0, 32, 12, 30];
    str1 = [1, 2, 3, 4];

    //left add--数组的第一个元素插入值
    buttons[0].addEventListener("click", function () {
        console.log(str.unshift(isNums.value));//返回值是新的数组的长度
        console.log(str);
    }, false);

    //right add--数组的最后一个元素插入值
    buttons[1].addEventListener("click", function () {
        console.log(str.push(isNums.value));//返回值是新的数组的长度
        console.log(str);
    }, false);

    //left remove--删除并返回数组的第一个元素
    buttons[2].addEventListener("click", function () {
        console.log(str.shift());
        console.log(str);
    }, false);

    //right remove--删除并返回数组的最后一个元素
    buttons[3].addEventListener("click", function () {
        console.log(str.pop());
        console.log(str);
    }, false);

    buttons[4].addEventListener("click", function () {
        console.log("原来的数组：" + str);
        console.log("反转后数组：" + str.reverse());
    }, false);

    //sort是对数组的元素进行排序
    buttons[5].addEventListener("click", function () {
        console.log("原来的数组：" + str);
        console.log("sort后的数组：" + str.sort(function (a, b) {
                return a - b;
            }));
    }, false);

    //concat是连接两个或更多的数组，并返回结果。
    buttons[6].addEventListener("click", function () {
        console.log("原来的数组str：" + str);
        console.log("原来的数组str2：" + str1);
        console.log("concat后的数组：" + str.concat(str1));
    });

    //join是把数组的所有元素放入一个字符串。元素通过指定的分隔符进行分隔。默认"，"
    buttons[7].addEventListener("click", function () {
        console.log("原来的数组：" + str);
        console.log("join后的数组：" + str.join("*"));
    }, false);

    //toString是把数组转换为字符串，并返回结果
    buttons[8].addEventListener("click", function () {
        console.log("原来的数组类型：" + Array.prototype.toString.call(str));
        console.log("toString后的数组类型：" + Array.prototype.toString.call(str.toString()));
    }, false);

    //toLocaleString是把数组转换为字符串，并返回结果
    buttons[9].addEventListener("click", function () {
        console.log("原来的数组类型：" + Array.prototype.toString.call(str));
        console.log("toLocaleString后的数组类型：" + Array.prototype.toString.call(str.toLocaleString()));
    }, false);

    //slice从某个已有的数组返回选定的元素,不会改变原来的数组
    buttons[10].addEventListener("click", function () {
        console.log("原来的数组：" + str);
        console.log("slice" + str.slice(1, 2));
        console.log("slice后的数组：" + str);
    }, false);

    //splice删除元素，并向数组添加新元素。
    buttons[11].addEventListener("click", function () {
        console.log("原来的数组：" + str);
        str.splice(2, 0, "mm");
        console.log("splice后的数组：" + str);
    }, false);

    /*copyWithin在当前数组内部，将指定位置的成员复制到其他位置（会覆盖原有成员），然后返回当前数组。也就是说，使用这个方法，会修改当前数组。
     三个参数
     target （必需）：从该位置开始替换数据。
     start （可选）：从该位置开始读取数据，默认为 0 。如果为负值，表示倒数。
     end （可选）：到该位置前停止读取数据，默认等于数组长度。如果为负值，表示倒数
     */
    buttons[12].addEventListener("click", function () {
        console.log("原来的数组" + str);
        str.copyWithin(0, 1, 3);
        console.log("copyWithin(0, 1, 3)后的数组：" + str);
    }, false);

    /*ES6 提供三个新的方法 —— entries()，keys()和valueof() —— 用于遍历数组。它们都返回一个遍历器对象，可以用for...of循环进行遍历，
     唯一的区别是:
     keys()是对键名的遍历,
     values()是对键值的遍历,
     entries()是对键值对的遍历*/
    buttons[13].addEventListener("click", function () {
        console.log("entries后数组：");
        for (let a of str.entries()) {
            console.log(a);
        }
        console.log("keys后数组：");
        for (let a of str.keys()) {
            console.log(a);
        }
        console.log("valueOf后数组：");
        for (let a of str.valueOf()) {
            console.log(a);
        }

    }, false);


    /*
     Array 的五种迭代方法--every() /filter() /forEach()/map()/some()
     http://www.cnblogs.com/mingxiastory/p/5432801.html
     */
    str2 = [1, 2, 3, 4, 5, 6, 7, 8, 9];
    buttons[14].addEventListener("click", function () {
        console.log("原来的数组:" + str2);

        var everys = str2.every(function (item, index, array) {
            return item > 3;
        });
        console.log("every结果是:" + everys);

        var somes = str2.some(function (item, index, array) {
            return item > 3;
        });
        console.log("somes结果是:" + somes);

        var filters = str2.filter(function (item, index, array) {
            return item > 3;
        });
        console.log("filter结果是:" + filters);

        console.log("foreach结果是:");
        str2.forEach(function (item, index, array) {
            console.log("第" + (index + 1) + "个,值为:" + item);
        });

        var maps = str2.map(function (item, index, array) {
            return item * 2;
        });
        console.log("map结果是:" + maps);

    }, false);

    /*
     数组中查找符合条件的值:find,findIndex,
     filter 能够查询出所有符合条件的
     find 查询到第一个符合条件的就返回
     因此 filter 相当于 find all


     引用类型和值类型：
     （1）值类型：数值、布尔值、null、undefined。
     （2）引用类型：对象、数组、函数。


     a instanceof Array
     */

    var fruit = [
        {name: "bananas", num: 4},
        {name: "apple", num: 10},
        {name: "apple", num: 3},
        {name: "peach", num: 12}
    ];
    var fs = [1, 2, 3, 3, 4, 5, 6];
    buttons[15].addEventListener("click", function () {
        function findname(item) {
            return item.name == "apple" && item.num == 3;
        }

        console.log(fruit.find(findname));
        console.log(fruit.findIndex(findname));
        console.log(fs.includes(9));
    }, false);

    buttons[16].addEventListener("click", function () {
        var indexs = [1, 2, 3, 5, 6, 7, 3, 2, 1];
        console.log("从前向前查找，返回第一个符合的元素的位置" + indexs.indexOf(3));
        console.log("从后向后查找，返回第一个符合的元素的位置" + indexs.lastIndexOf(3));
    }, false);


    /*
     reduce()       将数组元素计算为一个值（从左到右）。
     reduceRight()	将数组元素计算为一个值（从右到左）。
     */
    buttons[17].addEventListener("click", function () {
        var indexs = [1, 2, 3, 4];

        function sum(total, num) {
            return total + num;
        }

        console.log(indexs.reduce(sum));
        console.log(indexs.reduceRight(sum));

    }, false);

</script>

</body>
</html>